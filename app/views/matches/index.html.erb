<div class="container-fluid">
  <p id="notice"><%= notice %></p>
  <h1><%= t('.page_title') %></h1>

  <%= render partial: 'shared/search_form', locals: { search_field: :title_or_user_username_or_game_name_cont } %>

  <table class="table">
    <thead>
      <tr>    
          <th><%= sort_link(@q, :title, t('.title')) %></th>
          <th><%= sort_link(@q, :user_username, t('.creator')) %></th>
          <th><%= sort_link(@q, :game_name, t('.game')) %></th>
          <th><%= sort_link(@q, :number_of_players, t('.number_of_players')) %></th>
          <th><%= sort_link(@q, :start_at, t('.start_at')) %></th>
          <th><%= sort_link(@q, :end_at, t('.end_at')) %></th>
          <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @matches.each do |match| %>
        <tr>
            <td><%= link_to(match.title, match) %></td>
            <td><%= link_to(match.creator.username, match.creator) %></td>
            <td><%= link_to(match.game.name, match.game) %></td>
            <td><%= match.number_of_players %></td>
            <td><%= l(match.start_at, format: :long) %></td>
            <td><%= l(match.end_at, format: :long) %></td>
            <td><%= link_to('Edit', edit_match_path(match)) if current_user == match.user %></td>
            <td><%= link_to('Destroy', match, method: :delete, data: { confirm: 'Are you sure?' }) if current_user == match.user  %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%= paginate @matches %>

  <br>

  <%= link_to 'New Match', new_match_path, class: "btn btn-success min-width-btn" %>

</div>